<!DOCTYPE html>
<html>
    <head style="color: darkslategrey;">
        <title>Page Title</title>
    </head>

    <body style="color: black;">
        <h1 style="color:white;text-align: center;">St_vn's domain fr fr</h1>
        <p style="color: white;">Guessing game :</p>
    </body>

    <div class="resultParas">
        <p class="guesses"></p>
        <p class="lastResult"></p>
        <p class="lowOrHi"></p>
    </div>

    <label for="guessField">Enter a guess: </label>
    <input type="string" id="guessField" class="guessField"/>
    <input type="submit" value="Submit guess" class="guessSubmit"/>

    <script>
        let names = ["Steven", "Oldi", "Manith", ""];
        let index = Math.floor(Math.random() * names.length);
        let randomName = names[index]

        const guesses = document.querySelector(".guesses");
        const lastResult = document.querySelector(".lastResult");
        const lowOrHi = document.querySelector(".lowOrHi");

        const guessSubmit = document.querySelector(".guessSubmit");
        const guessField = document.querySelector(".guessField");

        let guessCount = 1;
        let resetButton;

        function restart() {
            guessCount = 1;

            guessField.disabled = false;
            guessSubmit.disabled = false;
            guessField.value = "";
            guessField.focus();

            resetButton.parentNode.removeChild(resetButton);
            lastResult.style.backgroundColor = "white";
            
            index = Math.floor(Math.random() * names.length);
            randomName = names[index]
        }

        function endGame() { // avengers
            guessSubmit.disabled = true;
            guessField.disabled = true;

            resetButton = document.createElement("button");
            resetButton.textContent = "Restart, bozo";
            document.body.append(resetButton);
            resetButton.addEventListener("click", restart);
        }

        function checkGuess() {
            const userGuess = guessField.value;

            if (userGuess.toLowerCase() === randomName.toLowerCase()) {
                lastResult.textContent = `You guessed right, it was ${randomName}!`;
                endGame();

                return;
                // guessSubmit.remove()
            }
            else if (guessCount > 2) {
                lastResult.textContent = `You have massive skill issues, the answer was ${randomName}!`;
                endGame();

                return;
            }

            lastResult.textContent = `Guess : ${userGuess}`;

            guessCount++;
            guessField.value = "";
            guessField.focus();
        }

        guessSubmit.addEventListener("click", checkGuess);
    </script>
</html>